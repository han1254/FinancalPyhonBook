# æ•£ç‚¹å›¾

## 4.2.1 æ•£ç‚¹å›¾

æ•£ç‚¹å›¾ä½¿ç”¨`scatter(x, y, [å¯é€‰é¡¹])`æ¥å®ç°

![image-20201027193921838](æ•£ç‚¹å›¾.assets/image-20201027193921838.png)

è¿™é‡Œï¼Œxå’Œyä¸æ˜¯å•çº¯çš„ä¸¤ä¸ªæ•°å­—ï¼Œæ— è®ºæ˜¯xæ˜¯yéƒ½æ˜¯**ä¸€ä¸²**æ•°å­—ã€‚

æ¯”å¦‚æˆ‘ä»¬ä»æƒ³è·å¾—D2è½¦æ¬¡çš„æ¯ä¸ªæ—¥æœŸä»¥åŠå…¶å¯¹åº”çš„ä¸Šè½¦äººæ•°çš„æ•£ç‚¹å›¾ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
path='è½¦æ¬¡ä¸Šè½¦äººæ•°ç»Ÿè®¡è¡¨.xlsx';
data=pd.read_excel(path);
tb=data.loc[data['è½¦æ¬¡'] == 'D02',['æ—¥æœŸ','ä¸Šè½¦äººæ•°']];
x=np.arange(1,len(tb.iloc[:,0])+1)
y1=tb.iloc[:,1]
plt.rcParams['font.sans-serif'] = 'SimHei'     # è®¾ç½®å­—ä½“ä¸ºSimHei 
plt.scatter(x,y1)
plt.xlabel('æ—¥æœŸ')
plt.ylabel('ä¸Šè½¦äººæ•°')
plt.xticks([1,5,10,15,20,24], tb['æ—¥æœŸ'].values[[0,4,9,14,19,23]], rotation = 45)
plt.title('D02è½¦æ¬¡ä¸Šè½¦äººæ•°æ•£ç‚¹å›¾')
```

é¦–å…ˆ`data=pd.read_excel(path)`ç›¸ä¿¡å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰äº†ï¼Œå°±æ˜¯ä»excelæ–‡ä»¶ä¸­è¯»å–æ•°æ®å¹¶ä¸”è·å¾—ä¸€ä¸ªDataFrameç±»å‹çš„æ•°æ®åŠ ã€‚ä¸‹å›¾å°±æ˜¯è·å¾—çš„dataã€‚

![image-20201027194356655](æ•£ç‚¹å›¾.assets/image-20201027194356655.png)

æ¥ä¸‹æ¥`tb=data.loc[data['è½¦æ¬¡'] == 'D02',['æ—¥æœŸ','ä¸Šè½¦äººæ•°']];`ï¼Œæƒ³æƒ³è¿™ä¸ªæ˜¯åšä»€ä¹ˆçš„ï¼Ÿè¿™é‡Œå°±æ¶‰åŠ`iloc`å’Œ`loc`å‡½æ•°çš„ä½¿ç”¨äº†ã€‚èµ¶ç´§è¡¥è¡¥Pandasç›¸å…³çš„çŸ¥è¯†ã€‚

æ€»ä¹‹ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯è·å¾—äº†â€”â€”é¦–å…ˆæ˜¯è¡Œï¼Œè·å¾—çš„æ‰€æœ‰è¡Œéƒ½æ˜¯D2è½¦æ¬¡ï¼Œç„¶ååªå–ä»–ä»¬çš„`æ—¥æœŸ`å’Œ`ä¸Šè½¦äººæ•°`è¿™ä¸¤åˆ—ã€‚

ä¸‹å›¾æ˜¯`tb`çš„å…·ä½“å†…å®¹ã€‚

![image-20201027213546258](æ•£ç‚¹å›¾.assets/image-20201027213546258.png)

`x=np.arange(1,len(tb.iloc[:,0])+1)`è¿™å¥ï¼Œè·å¾—äº†ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„æ˜¯ä»å‡ åˆ°å‡ çš„ï¼Ÿå¥½å¥½æ€è€ƒä¸€ä¸‹ã€‚(æç¤ºï¼š`len(tb.iloc[:,0])+1 = 25`)

ç­”æ¡ˆå¦‚ä¸‹ï¼ˆæŠŠæ‰‹æœºå€’è¿‡æ¥çœ‹ï¼‰ï¼š

![image-20201027200841494](æ•£ç‚¹å›¾.assets/image-20201027200841494.png)

è¿™æ˜¯æœ€åä¸€æ¬¡å¼ºè°ƒå‰é—­åå¼€çš„é—®é¢˜äº†ğŸ˜€ã€‚

æˆ‘ä»¬é€šè¿‡xè·å¾—äº†ä¸€ä¸ªæ•°ç»„å°±æ˜¯ä»1~24ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠè¿™24ä¸ªæ•°å½“ä½œæ¨ªè½´çš„24ä¸ªåæ ‡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦ç»™ä»–æ‰¾å¯¹åº”çš„yåæ ‡ï¼Œå½“ç„¶ä¹Ÿæ˜¯24ä¸ªã€‚

`y1=tb.iloc[:,1]`ï¼Œè¿™å¥è¯çš„ä½œç”¨æ˜¯å•¥å‘¢ï¼Ÿè·å¾—æ‰€æœ‰è¡Œçš„ç¬¬ä¸€åˆ—

![image-20201027213933475](æ•£ç‚¹å›¾.assets/image-20201027213933475.png)



ç°åœ¨æˆ‘ä»¬çš„`x`æœ‰äº†ï¼Œ`y1`ä¹Ÿæœ‰äº†ï¼Œå¯ä»¥ç›´æ¥ç»˜åˆ¶äº†ã€‚

```python
plt.rcParams['font.sans-serif'] = 'SimHei'     # è®¾ç½®å­—ä½“ä¸ºSimHei 
plt.scatter(x,y1) # ğŸ‘ˆç»˜åˆ¶è¿™äº›ç‚¹ï¼Œå…¶å®è¿™ä¸ªè®°ä½å°±è¡Œäº†ï¼Œç»˜å›¾çš„æ—¶å€™çš„éš¾ç‚¹éƒ½åœ¨ä¸€äº›ç»†èŠ‚ä¸ŠğŸ‘€
plt.xlabel('æ—¥æœŸ') # è®¾ç½®æ¨ªè½´çš„åå­—
plt.ylabel('ä¸Šè½¦äººæ•°') # è®¾ç½®çºµè½´çš„åå­—
plt.xticks([1,5,10,15,20,24], tb['æ—¥æœŸ'].values[[0,4,9,14,19,23]], rotation = 45)
plt.title('D02è½¦æ¬¡ä¸Šè½¦äººæ•°æ•£ç‚¹å›¾')
```

è¿™é‡Œè¯´ä¸€ä¸‹`xticks`æ–¹æ³•ã€‚æˆ‘ä»¬è¿™é‡Œé¢ä¼ å…¥äº†ä¸‰ä¸ªå‚æ•°

+ `[1,5,10,15,20,24]`

+ `tb['æ—¥æœŸ'].values[[0,4,9,14,19,23]`

+ `45`

é¦–å…ˆï¼Œ`[1,5,10,15,20,24]`è§„å®šäº†æˆ‘åªæƒ³è¦å°†xè½´åˆ†æˆ`1ã€5ã€10ã€15ã€20ã€24`è¿™å‡ ä¸ªåˆ»åº¦ã€‚

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
path='è½¦æ¬¡ä¸Šè½¦äººæ•°ç»Ÿè®¡è¡¨.xlsx';
data=pd.read_excel(path);
tb=data.loc[data['è½¦æ¬¡'] == 'D02',['æ—¥æœŸ','ä¸Šè½¦äººæ•°']];
x=np.arange(1,len(tb.iloc[:,0])+1)
y1=tb.iloc[:,1]
plt.rcParams['font.sans-serif'] = 'SimHei'     # è®¾ç½®å­—ä½“ä¸ºSimHei 
plt.scatter(x,y1)
plt.xlabel('æ—¥æœŸ')
plt.ylabel('ä¸Šè½¦äººæ•°')
plt.xticks([1,5,10,15,20,24]) # ğŸ‘ˆæ³¨æ„çœ‹è¿™å¥
plt.title('D02è½¦æ¬¡ä¸Šè½¦äººæ•°æ•£ç‚¹å›¾')
```

ç»“æœå¦‚ä¸‹ï¼š

![image-20201027214345462](æ•£ç‚¹å›¾.assets/image-20201027214345462.png)

å…¶å®ä»1~24è¿™äº›æ•°å­—æœ¬èº«æ²¡å•¥å«ä¹‰ï¼Œæˆ‘ä»¬æƒ³ç»™æ¯ä¸ªåˆ»åº¦æ¢ä¸ªåå­—ï¼Œæ¢æˆæ—¥æœŸã€‚ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯å¹²è¿™ä¸ªçš„ã€‚çœ‹`tb['æ—¥æœŸ'].values[[0,4,9,14,19,23]]`è¿™å¥è¯ï¼Œé¦–å…ˆ`tb['æ—¥æœŸ']`è·å¾—äº†`tb`é‡Œé¢çš„`æ—¥æœŸ`è¿™ä¸€åˆ—ï¼Œæ•°æ®ç±»å‹æ˜¯DataFrameï¼Œæˆ‘ä»¬æƒ³æŠŠå®ƒå˜æˆä¸€ä¸ªNumpyæ•°ç»„çš„è¯ï¼Œå°±è¦ä½¿ç”¨`tb['æ—¥æœŸ'].values`ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹ä¼¼æ›¾ç›¸è¯†ï¼Ÿ

![image-20201027222029958](æ•£ç‚¹å›¾.assets/image-20201027222029958.png)

ç¬¬ä¸‰ç« ä¹ é¢˜è§£æé‡Œé¢æˆ‘ä»¬æ›¾ç»å‡ºç°è¿‡ä¸€ä¸ªé—®é¢˜â€”â€”pandasçš„as_matrixæ–¹æ³•æ— æ³•ä½¿ç”¨ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨values

![image-20201027222130967](æ•£ç‚¹å›¾.assets/image-20201027222130967.png)

å¤§å®¶å¯ä»¥è¿”å›å»çœ‹çœ‹ã€‚



ä¹¦å½’æ­£ä¼ ï¼Œæˆ‘ä»¬è·å¾—äº†`tb['æ—¥æœŸ'].values`ï¼Œæ€»å…±24ä¸ªæ—¥æœŸæ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬åªæƒ³è¦6ä¸ªå°±è¡Œäº†ï¼Œç›´æ¥è¦ç¬¬1ã€5ã€10ã€15ã€20ã€24ä¸ªæ•°æ®ï¼Œä½†æ˜¯è®¡ç®—æœºä¸­ç¬¬ä¸€ä¸ªæ˜¯ä»0å¼€å§‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è·å¾—0ã€4ã€9ã€14ã€19å’Œ23ä½ç½®ä¸Šçš„æ•°æ®

å³

![4_1](æ•£ç‚¹å›¾.assets/4_1.png)

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
path='è½¦æ¬¡ä¸Šè½¦äººæ•°ç»Ÿè®¡è¡¨.xlsx';
data=pd.read_excel(path);
tb=data.loc[data['è½¦æ¬¡'] == 'D02',['æ—¥æœŸ','ä¸Šè½¦äººæ•°']];
x=np.arange(1,len(tb.iloc[:,0])+1)
y1=tb.iloc[:,1]
plt.rcParams['font.sans-serif'] = 'SimHei'     # è®¾ç½®å­—ä½“ä¸ºSimHei 
plt.scatter(x,y1)
plt.xlabel('æ—¥æœŸ')
plt.ylabel('ä¸Šè½¦äººæ•°')
plt.xticks([1,5,10,15,20,24], tb['æ—¥æœŸ'].values[[0,4,9,14,19,23]])# ğŸ‘ˆæ³¨æ„çœ‹è¿™å¥
plt.title('D02è½¦æ¬¡ä¸Šè½¦äººæ•°æ•£ç‚¹å›¾')
```

![image-20201027225159841](æ•£ç‚¹å›¾.assets/image-20201027225159841.png)

å…¶å®åˆ°è¿™é‡Œå°±å·®ä¸å¤šäº†ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªè¿½æ±‚å®Œç¾çš„äººï¼Œæˆ‘ä»¬ä¼šæ­¢æ­¥äºè¿™æ ·å—ï¼Ÿä¸ï¼Œæˆ‘ä»¬è§‰å¾—xè½´ä¸Šçš„æ—¥æœŸåˆ»åº¦å¤ªæŒ¤äº†ï¼Œæˆ‘æƒ³è®©å®ƒå€¾æ–œä¸€ä¸‹ï¼Œä½¿ç”¨rotationå‚æ•°

```python
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
path='è½¦æ¬¡ä¸Šè½¦äººæ•°ç»Ÿè®¡è¡¨.xlsx';
data=pd.read_excel(path);
tb=data.loc[data['è½¦æ¬¡'] == 'D02',['æ—¥æœŸ','ä¸Šè½¦äººæ•°']];
x=np.arange(1,len(tb.iloc[:,0])+1)
y1=tb.iloc[:,1]
plt.rcParams['font.sans-serif'] = 'SimHei'     # è®¾ç½®å­—ä½“ä¸ºSimHei 
plt.scatter(x,y1)
plt.xlabel('æ—¥æœŸ')
plt.ylabel('ä¸Šè½¦äººæ•°')
plt.xticks([1,5,10,15,20,24], tb['æ—¥æœŸ'].values[[0,4,9,14,19,23]], rotation = 45)# ğŸ‘ˆæ³¨æ„çœ‹è¿™å¥
plt.title('D02è½¦æ¬¡ä¸Šè½¦äººæ•°æ•£ç‚¹å›¾')
```

![image-20201027225917589](æ•£ç‚¹å›¾.assets/image-20201027225917589.png)

![image-20201027225935659](æ•£ç‚¹å›¾.assets/image-20201027225935659.png)

